{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block stylesheets %}
<style>

</style>
{% endblock %}
{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h1>Hello {{ name }}</h1>

        <form id="formInput" method="post" action="{{ path('app_ajax_form_input') }}">
            <input name="name" id="name" type="text">
            <input name="password" type="password">
            <button type="submit">GÃ¶nder</button>
        </form>
    </div>

    <div id="response_"></div>
{% endblock %}

{% block javascripts %}
    <script src="">
        $(document).ready(function() {

            $('#formInput').on('submit', function (e) {
                e.preventDefault();
                //ajaxRequest('formInput');
            });

        });

        function ajaxRequest(formId) {
            $.ajax({
                type: $('#'+formId).attr('method'),
                url: $('#formInput').attr('action'),//'{{ path('app_ajax_form_input') }}',
                data: { "name":$('#name').val() }
            }).done(function (xhr) {
                //$('.loading_'+chart).css('display', 'none');

                if (xhr.status && xhr.results.hasNewData) {
                    $('#lastCreatedDate').text(xhr.results.lastCreatedDate);
                    getReportExtra("totals", "today");
                    getReport("chartImport", "bar", 1), getReport("chartSupplier", "bar", 1), getReport("chartAirline", "bar", 1), getReport("chartCustomer", "bar", 1);
                }
            }).fail(function (xhr) {
                //$('.loading_'+chart).css('display', 'none');
                Swal.fire({
                    title: 'Error!',
                    text: xhr.responseText,
                    icon: 'error'
                })
            });
        }
    <script>




    </script>
{% endblock %}
